function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"4pmC":function(e,t,n){"use strict";n.r(t),n.d(t,"EditNewsModule",(function(){return f}));var r=n("mrSG"),i=n("fXoL"),o=n("ofXK"),a=n("3Pt+"),s=n("adls"),l=n("KZYO"),c=n("tyNb"),d=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.ordinaryQuery=t,this.ordinaryComponent=n,this.firebaseImage=r,this.route=i,this.router=o,this.EDITOR=l,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}},this.initForm()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onReady",value:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}},{key:"initForm",value:function(){this.router.getCurrentNavigation().extras.state?(this.news_edit=this.router.getCurrentNavigation().extras.state,this.news=new a.d({title:new a.c(this.news_edit.title,[a.l.required]),sub_title:new a.c(this.news_edit.sub_title),content:new a.c(this.news_edit.content),type:new a.c(this.news_edit.type,[a.l.required]),status:new a.c(this.news_edit.status),img:new a.c(this.news_edit.img)})):this.back()}},{key:"saveNews",value:function(){var e=this;console.log(this.news.value),this.ordinaryQuery.updateTask("news",this.news_edit.id,Object.assign(Object.assign({},this.news.value),{date:new Date})).then((function(t){t?(console.log("Created"),e.news.reset(),e.handleSave("Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft th\xe0nh c\xf4ng"),e.back()):e.handleSave("Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft kh\xf4ng th\xe0nh c\xf4ng")}))}},{key:"back",value:function(){this.router.navigate(["viethas/news"])}},{key:"handleSave",value:function(e){this.ordinaryComponent.showToast(2e3,e)}},{key:"openUploadImg",value:function(){document.getElementById("image").click()}},{key:"uploadImg",value:function(e){var t=this;console.log("source",e);var n=e.target.files[0];console.log("file",n),this.firebaseImage.getThumbnailFromDesktop("news",n,600,600).then((function(e){console.log("photoURL",e),t.news.controls.img.setValue(e)}),(function(e){console.error(e)}))}}]),e}();d.ctorParameters=function(){return[{type:s.OrdinaryQuery},{type:s.OrdinaryComponent},{type:s.FirebaseImage},{type:c.a},{type:c.e}]},d=Object(r.__decorate)([Object(i.Component)({selector:"app-edit-news",template:Object(r.__importDefault)(n("zptP")).default,styles:[Object(r.__importDefault)(n("gwAu")).default]})],d);var u=n("zioG"),m=n("tk/3"),h=n("hctd"),p=[{path:"",component:d}],g=function e(){_classCallCheck(this,e)};g=Object(r.__decorate)([Object(i.NgModule)({imports:[c.g.forChild(p)],exports:[c.g]})],g);var f=function e(){_classCallCheck(this,e)};f=Object(r.__decorate)([Object(i.NgModule)({declarations:[d],imports:[o.CommonModule,a.f,a.k,m.b,h.a,g,u.a],exports:[h.a],providers:[s.FirebaseImage]})],f)},gwAu:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.example-spacer {\n  flex: 1 auto;\n}\n.confirm::before {\n  content: "\u0110\u0103ng b\xe0i";\n}\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}\n.head-height {\n  height: 280px;\n}'},zptP:function(e,t,n){"use strict";n.r(t),t.default='\x3c!-- <angular-editor [(ngModel)]="htmlContent" [config]="config"></angular-editor> --\x3e\r\n<mat-toolbar class="bg-white" style="height: 40px">\r\n    <span class="h6 font-weight-normal">Tin t\u1ee9c / B\xe0i vi\u1ebft / B\xe0i Vi\u1ebft M\u1edbi</span>\r\n</mat-toolbar>\r\n<mat-toolbar class="bg-white border-bottom">\r\n    <mat-toolbar-row>\r\n        <span class="h2">Tin T\u1ee9c</span>\r\n        <span class="text-success mx-2 h2"> | </span>\r\n        <span class="h2">Ch\u1ec9nh S\u1eeda B\xe0i Vi\u1ebft</span>\r\n        <span class="example-spacer"></span>\r\n        <button class="bg-success text-white px-5 mx-2" [ngStyle]="{opacity: news.invalid ? .7 : 1}" mat-flat-button\r\n            *ngIf="news" [disabled]="news.invalid" (click)="saveNews()">\r\n            L\u01b0u\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n\r\n<form class="" [formGroup]="news" *ngIf="news">\r\n    <div class="row h-30 overflow-hidden">\r\n        <div class="col-6 ">\r\n            <div class="my-4">\r\n                <textarea matInput class="form-control" formControlName="title" placeholder="Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"\r\n                    aria-label="Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"></textarea>\r\n                <mat-error\r\n                    *ngIf="news.get(\'title\').hasError(\'required\') && (news.get(\'title\').dirty || news.get(\'title\').touched)">\r\n                    Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1\r\n                </mat-error>\r\n            </div>\r\n\r\n            <div class="my-4 ">\r\n                <select class="custom-select" id="#" formControlName="type">\r\n                    <option selected disabled value="">Th\u1ec3 lo\u1ea1i</option>\r\n                    <option value="1">Ph\u1ea7n m\u1ec1m</option>\r\n                    <option value="2">Gi\u1ea3i ph\xe1p IoT</option>\r\n                    <option value="3">Gia c\xf4ng</option>\r\n                    <option value="4">Tin n\u1ed5i b\u1eadt</option>\r\n                </select>\r\n                <mat-error\r\n                    *ngIf="news.get(\'type\').hasError(\'required\') && (news.get(\'type\').dirty || news.get(\'type\').touched)">\r\n                    Vui l\xf2ng ch\u1ecdn th\u1ec3 lo\u1ea1i\r\n                </mat-error>\r\n            </div>\r\n\r\n            <div class="my-4" style="display: none;">\r\n                <div class="custom-file">\r\n                    <input type="file" class="custom-file-input" id="image" (change)="uploadImg($event)"\r\n                        accept=".png, .jpg, .svg">\r\n                    <label class="custom-file-label" for="image">H\xecnh \u1ea3nh</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="my-4">\r\n                <textarea class="form-control" formControlName="sub_title" placeholder="M\xf4 t\u1ea3 b\xe0i vi\u1ebft"\r\n                    aria-label="M\xf4 t\u1ea3 b\xe0i vi\u1ebft"></textarea>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="col-4 overflow-hidden my-4">\r\n            <img id="myImg" src="{{news.value.img}}" class="image-title rounded mx-auto mt-1 d-block" height="240"\r\n                (click)="openUploadImg()" alt="Not yet image">\r\n        </div>\r\n\r\n        <div class="col-2 ">\r\n\r\n            <div class="my-4 confirm d-flex justify-content-end">\r\n                <mat-slide-toggle formControlName="status" class="ml-4"></mat-slide-toggle>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-lg">\r\n            <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\r\n            </ckeditor>\r\n        </div>\r\n    </div>\r\n</form>'}}]);