(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{A8HU:function(t,e,r){"use strict";r.r(e),r.d(e,"ListPriceModule",(function(){return b}));var i=r("mrSG"),o=r("fXoL"),n=r("ofXK"),a=r("adls"),s=r("tyNb");let l=class{constructor(t,e,r){this.queryVhweb=t,this.router=e,this.ordinaryAlgorithm=r,this.data=[],this.pageIndex=0,this.pageSize=5,this.lowValue=0,this.highValue=10,this.pageSizeOption=[5,10,25,50,100],this.getData().then(t=>{console.log(t);for(let e in t)this.queryVhweb.getProduct("softwares",t[e].id_software).then(r=>{t[e].name=r.data().name});console.log(this.data)})}ngOnInit(){}getPaginatorData(t){return this.lowValue=t.pageIndex*t.pageSize,this.highValue=this.lowValue+t.pageSize,t}add(){this.router.navigate(["/viethas/list-price/add"])}edit(t){this.router.navigate(["/viethas/list-price/edit"],{state:t})}delete(t){this.queryVhweb.deleteProduct("prices",t.id).then(t=>{console.log("result",t),alert("success"),this.data.splice(this.data.findIndex(t=>t.id==t.id),1)})}getData(){return new Promise(t=>{this.queryVhweb.getProducts("prices").then(e=>{this.data=e.docs.map(t=>Object.assign({id:t.id},t.data())),this.data.sort((t,e)=>t.id_software.localeCompare(e.id_software)),t(this.data),console.log(this.data)})})}};l.ctorParameters=()=>[{type:a.QueryVhweb},{type:s.e},{type:a.OrdinaryAlgorithm}],l=Object(i.__decorate)([Object(o.Component)({selector:"app-list-price",template:Object(i.__importDefault)(r("SW2l")).default,styles:[Object(i.__importDefault)(r("Fdc1")).default]})],l);var c=r("3Pt+"),m=r("KZYO");let d=class{constructor(t,e,r){this.queryVhweb=t,this.location=e,this.ordinaryAlgorithm=r,this.EDITOR=m,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}},this.list_software=[],this.list_time=["30 ng\xe0y","90 ng\xe0y","180 ng\xe0y","356 ng\xe0y"]}ngOnInit(){this.initForm(),this.getListSoftware(),this.root_price=this.ordinaryAlgorithm.vhnumeral(".root_price"),this.current_price=this.ordinaryAlgorithm.vhnumeral(".current_price")}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}initForm(){this.form=new c.d({id_software:new c.c("",[c.l.required]),time:new c.c("",[c.l.required]),root_price:new c.c("",[c.l.required]),current_price:new c.c("",[c.l.required]),content:new c.c("",[c.l.required])})}getListSoftware(){this.queryVhweb.getProducts("softwares").then(t=>{this.list_software=t.docs.map(t=>Object.assign({id:t.id},t.data())),console.log(this.list_software)})}save(){console.log(this.form.value),this.form.controls.root_price.setValue(parseInt(this.root_price.getRawValue())),this.form.controls.current_price.setValue(parseInt(this.current_price.getRawValue())),this.queryVhweb.createProduct("prices",this.form.value).then(t=>{t.created&&(console.log("result.id",t.id),this.form.reset(),alert("Success"))})}};d.ctorParameters=()=>[{type:a.QueryVhweb},{type:n.Location},{type:a.OrdinaryAlgorithm}],d=Object(i.__decorate)([Object(o.Component)({selector:"app-add",template:Object(i.__importDefault)(r("soBI")).default,styles:[Object(i.__importDefault)(r("akgR")).default]})],d);let p=class{constructor(t,e,r,i){this.queryVhweb=t,this.location=e,this.router=r,this.ordinaryAlgorithm=i,this.EDITOR=m,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}},this.list_software=[],this.list_time=["30 ng\xe0y","90 ng\xe0y","180 ng\xe0y","356 ng\xe0y"],this.initForm(),this.getListSoftware()}ngOnInit(){this.root_price=this.ordinaryAlgorithm.vhnumeral(".root_price"),this.current_price=this.ordinaryAlgorithm.vhnumeral(".current_price")}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}initForm(){this.router.getCurrentNavigation().extras.state?(this.root=this.router.getCurrentNavigation().extras.state,this.form=new c.d({id_software:new c.c(this.root.id_software,[c.l.required]),time:new c.c(this.root.time,[c.l.required]),root_price:new c.c(this.root.root_price,[c.l.required]),current_price:new c.c(this.root.current_price,[c.l.required]),content:new c.c(this.root.content,[c.l.required])})):this.location.back()}getListSoftware(){this.queryVhweb.getProducts("softwares").then(t=>{this.list_software=t.docs.map(t=>Object.assign({id:t.id},t.data())),console.log(this.list_software)})}save(){console.log(this.form.value),this.form.controls.root_price.setValue(parseInt(this.root_price.getRawValue())),this.form.controls.current_price.setValue(parseInt(this.current_price.getRawValue())),this.queryVhweb.updateProduct("prices",this.root.id,this.form.value).then(t=>{console.log("result",t),this.location.back()})}};p.ctorParameters=()=>[{type:a.QueryVhweb},{type:n.Location},{type:s.e},{type:a.OrdinaryAlgorithm}],p=Object(i.__decorate)([Object(o.Component)({selector:"app-edit",template:Object(i.__importDefault)(r("Jv/t")).default,styles:[Object(i.__importDefault)(r("nZa4")).default]})],p);const h=[{path:"",component:l},{path:"add",component:d},{path:"edit",component:p}];let u=class{};u=Object(i.__decorate)([Object(o.NgModule)({imports:[s.g.forChild(h)],exports:[s.g]})],u);var f=r("hctd"),g=r("zioG");let b=class{};b=Object(i.__decorate)([Object(o.NgModule)({declarations:[l,d,p],imports:[n.CommonModule,u,f.a,c.f,g.a,c.k]})],b)},Fdc1:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}"},"Jv/t":function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1 | C\u1eadp nh\u1eadt</span>\r\n        <span class="example-spacer"></span>\r\n        <button [disabled]="form.invalid" class="bg-success text-white px-5 mx-2" mat-flat-button (click)="save()">\r\n            L\u01b0u\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n<div class="row my-4">\r\n    <div class="col">\r\n        <form [formGroup]="form">\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <mat-form-field class="w-100" appearance="fill">\r\n                        <mat-label>T\xean ph\u1ea7n m\u1ec1m</mat-label>\r\n                        <mat-select formControlName="id_software">\r\n                            <mat-option *ngFor="let item of list_software" [value]="item.id">\r\n                                {{item.name}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class="col my-3">\r\n                    <mat-form-field  class="w-100" appearance="fill">\r\n                        <mat-label>Th\u1eddi gian</mat-label>\r\n                        <mat-select formControlName="time">\r\n                            <mat-option *ngFor="let item of list_time" [value]="item">\r\n                                {{item}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control root_price" formControlName="root_price" placeholder="Gi\xe1 g\u1ed1c">\r\n                </div>\r\n    \r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control current_price" formControlName="current_price" placeholder="Gi\xe1 khuy\u1ebfn m\xe3i">\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-lg my-3">\r\n                <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\r\n                </ckeditor>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},SW2l:function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1</span>\r\n        <span class="example-spacer"></span>\r\n        <button class="bg-success text-white px-5 mx-2" mat-flat-button (click)="add()">\r\n            Th\xeam\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n\r\n<div class="row my-4 d-flex align-items-center" style="background: #f5f5f5;height: 50px;">\r\n    <div class="col-3">\r\n        <b>T\xean ph\u1ea7n m\u1ec1m</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Th\u1eddi gian</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Gi\xe1 g\u1ed1c</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Gi\xe1 khuy\u1ebfn m\xe3i</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Edit</b>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="row my-2 border-bottom" *ngFor="let item of data  | slice: lowValue : highValue">\r\n    <div class="col-3">\r\n        {{item.name}}\r\n    </div>\r\n    <div class="col">\r\n        {{item.time}}\r\n    </div>\r\n    <div class="col">\r\n        {{ordinaryAlgorithm.vhcurrencyunit(item.root_price)}}\r\n    </div>\r\n    <div class="col">\r\n        {{ordinaryAlgorithm.vhcurrencyunit(item.current_price)}}\r\n    </div>\r\n    <div class="col">\r\n        <button mat-flat-button (click)="edit(item)">\r\n            <mat-icon class="text-success" aria-hidden="false" aria-label="Example home icon">edit\r\n            </mat-icon>\r\n        </button>\r\n        <button mat-flat-button (click)="delete(item)">\r\n            <mat-icon class="text-danger" aria-hidden="false" aria-label="Example home icon">delete\r\n            </mat-icon>\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n\r\n<mat-paginator class="d-flex justify-content-center" [length]="data.length" [pageSizeOptions]="pageSizeOption" [pageSize]="pageSize"\r\n    showFirstLastButtons="false" (page)="pageEvent = getPaginatorData($event)">\r\n</mat-paginator>'},akgR:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}\n\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}"},nZa4:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}\n\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}"},soBI:function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1 | Th\xeam m\u1edbi</span>\r\n        <span class="example-spacer"></span>\r\n        <button class="bg-success text-white px-5 mx-2" [disabled]="form.invalid" mat-flat-button (click)="save()">\r\n            L\u01b0u\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n<div class="row my-4">\r\n    <div class="col">\r\n        <form [formGroup]="form">\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <mat-form-field class="w-100" appearance="fill">\r\n                        <mat-label>T\xean ph\u1ea7n m\u1ec1m</mat-label>\r\n                        <mat-select formControlName="id_software">\r\n                            <mat-option *ngFor="let item of list_software" [value]="item.id">\r\n                                {{item.name}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class="col my-3">\r\n                    <mat-form-field  class="w-100" appearance="fill">\r\n                        <mat-label>Th\u1eddi gian</mat-label>\r\n                        <mat-select formControlName="time">\r\n                            <mat-option *ngFor="let item of list_time" [value]="item">\r\n                                {{item}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control root_price" formControlName="root_price" placeholder="Gi\xe1 g\u1ed1c">\r\n                </div>\r\n    \r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control current_price" formControlName="current_price" placeholder="Gi\xe1 khuy\u1ebfn m\xe3i">\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-lg my-3">\r\n                <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\r\n                </ckeditor>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'}}]);