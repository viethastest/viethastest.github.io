(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{GxeB:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.example-spacer {\n  flex: 1 auto;\n}\n.confirm::before {\n  content: "\u0110\u0103ng b\xe0i";\n}\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}\n.head-height {\n  height: 280px;\n}'},IVFp:function(e,t,n){"use strict";n.r(t),t.default='\x3c!-- <angular-editor [(ngModel)]="htmlContent" [config]="config"></angular-editor> --\x3e\n<mat-toolbar class="bg-white" style="height: 40px">\n    <span class="h6 font-weight-normal">Tin t\u1ee9c / B\xe0i vi\u1ebft / B\xe0i Vi\u1ebft M\u1edbi</span>\n</mat-toolbar>\n<mat-toolbar class="bg-white border-bottom">\n    <mat-toolbar-row>\n        <span class="h2">Tin T\u1ee9c</span>\n        <span class="text-success mx-2 h2"> | </span>\n        <span class="h2">B\xe0i Vi\u1ebft M\u1edbi</span>\n        <span class="example-spacer"></span>\n        <button class="bg-success text-white px-5 mx-2" [ngStyle]="{opacity: news.invalid ? .7 : 1}" mat-flat-button\n            [disabled]="news.invalid" (click)="saveNews()">\n            Th\xeam\n        </button>\n        <button class="text-secondary px-5 mx-2" mat-stroked-button (click)="back()">Hu\u1ef7</button>\n    </mat-toolbar-row>\n</mat-toolbar>\n\n<form [formGroup]="news">\n    <div class="row h-30 overflow-hidden">\n        <div class="col-6 ">\n            <div class="my-4">\n                <textarea matInput class="form-control" formControlName="title" placeholder="Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"\n                    aria-label="Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"></textarea>\n                <mat-error\n                    *ngIf="news.get(\'title\').hasError(\'required\') && (news.get(\'title\').dirty || news.get(\'title\').touched)">\n                    Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1\n                </mat-error>\n            </div>\n\n            <div class="my-4 ">\n                <select class="custom-select" id="#" formControlName="type">\n                    <option selected disabled value="">Th\u1ec3 lo\u1ea1i</option>\n                    <option value="1">Ph\u1ea7n m\u1ec1m</option>\n                    <option value="2">Gi\u1ea3i ph\xe1p IoT</option>\n                    <option value="3">Gia c\xf4ng</option>\n                    <option value="4">Tin n\u1ed5i b\u1eadt</option>\n                </select>\n                <mat-error\n                    *ngIf="news.get(\'type\').hasError(\'required\') && (news.get(\'type\').dirty || news.get(\'type\').touched)">\n                    Vui l\xf2ng ch\u1ecdn th\u1ec3 lo\u1ea1i\n                </mat-error>\n            </div>\n\n            <div class="my-4" style="display: none;">\n                <div class="custom-file">\n                    <input type="file" class="custom-file-input" id="image" (change)="uploadImg($event)"\n                        accept=".png, .jpg, .svg">\n                    <label class="custom-file-label" for="image">H\xecnh \u1ea3nh</label>\n                </div>\n            </div>\n\n            <div class="my-4">\n                <textarea class="form-control" formControlName="sub_title" placeholder="M\xf4 t\u1ea3 b\xe0i vi\u1ebft"\n                    aria-label="M\xf4 t\u1ea3 b\xe0i vi\u1ebft"></textarea>\n            </div>\n        </div>\n\n        <div class="col-4 overflow-hidden my-4">\n            <img id="myImg" src="{{news.value.img}}" class="image-title rounded mx-auto mt-1 d-block" height="240"\n                (click)="openUploadImg()" alt="Not yet image">\n        </div>\n\n        <div class="col-2 ">\n\n            <div class="my-4 confirm d-flex justify-content-end">\n                <mat-slide-toggle formControlName="status" class="ml-4"></mat-slide-toggle>\n            </div>\n\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-lg">\n            <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\n            </ckeditor>\n        </div>\n    </div>\n</form>'},WPSi:function(e,t,n){"use strict";n.r(t),n.d(t,"AddNewsModule",(function(){return b}));var o=n("mrSG"),i=n("ofXK"),a=n("fXoL"),s=n("tyNb"),l=n("3Pt+"),r=n("adls"),c=n("KZYO");let d=class{constructor(e,t,n,o){this.ordinaryQuery=e,this.ordinaryComponent=t,this.firebaseImage=n,this.router=o,this.EDITOR=c,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}}}ngOnInit(){this.initForm()}onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}initForm(){this.news=new l.d({title:new l.c("",[l.l.required]),sub_title:new l.c(""),content:new l.c(""),type:new l.c("",[l.l.required]),status:new l.c(!1),img:new l.c("assets/img/not_yet_image.png")})}saveNews(){console.log(this.news.value),this.ordinaryQuery.createTask("news",Object.assign(Object.assign({},this.news.value),{date:new Date})).then(e=>{e.created?(console.log("Created"),this.news.reset(),this.handleSave("T\u1ea1o b\xe0i vi\u1ebft th\xe0nh c\xf4ng"),this.back()):this.handleSave("T\u1ea1o b\xe0i vi\u1ebft kh\xf4ng th\xe0nh c\xf4ng")})}back(){this.router.navigate(["viethas/news"])}handleSave(e){this.ordinaryComponent.showToast(2e3,e)}openUploadImg(){document.getElementById("image").click()}uploadImg(e){console.log(e);const t=e.target.files[0];console.log(t),this.firebaseImage.getThumbnailFromDesktop("news",t,600,600).then(e=>{console.log(e),this.news.controls.img.setValue(e)},e=>{console.error(e)})}};d.ctorParameters=()=>[{type:r.OrdinaryQuery},{type:r.OrdinaryComponent},{type:r.FirebaseImage},{type:s.e}],d=Object(o.__decorate)([Object(a.Component)({selector:"app-add-news",template:Object(o.__importDefault)(n("IVFp")).default,styles:[Object(o.__importDefault)(n("GxeB")).default]})],d);const m=[{path:"",component:d}];let p=class{};p=Object(o.__decorate)([Object(a.NgModule)({imports:[s.g.forChild(m)],exports:[s.g]})],p);var g=n("hctd"),u=n("zioG"),h=n("tk/3");let b=class{};b=Object(o.__decorate)([Object(a.NgModule)({imports:[i.CommonModule,l.f,l.k,h.b,g.a,p,u.a],declarations:[d],exports:[g.a],providers:[r.FirebaseImage]})],b)}}]);