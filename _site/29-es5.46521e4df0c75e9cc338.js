function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{CzDe:function(e,t,n){"use strict";n.r(t),t.default='<mat-toolbar class="bg-white small-toolbar">\n    <span class="h6 font-weight-light">Tin t\u1ee9c / <span class="font-weight-normal">B\xe0i vi\u1ebft</span></span>\n</mat-toolbar>\n<mat-toolbar class="bg-white border-bottom small-toolbar">\n    <mat-toolbar-row>\n        <span class="h3">Tin T\u1ee9c</span>\n        <span class="text-success mx-2 h2"> | </span>\n        <span class="h3">B\xe0i Vi\u1ebft M\u1edbi</span>\n        <span class="example-spacer"></span>\n        <button class="bg-success text-white px-5 mx-2" mat-flat-button (click)="addPost()">\n            Th\xeam\n        </button>\n    </mat-toolbar-row>\n</mat-toolbar>\n\n<table mat-table [dataSource]=" dataSource" matSort class="mat-elevation-z8 my-4">\n\n    <ng-container matColumnDef="title">\n        <th class="text-center title" style="width: 200px;" mat-header-cell *matHeaderCellDef mat-sort-header>\n            Ti\xeau \u0111\u1ec1</th>\n        <td class="padding-y" mat-cell *matCellDef="let element">\n            {{element.title}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef="date">\n        <th class="text-center title" mat-header-cell *matHeaderCellDef mat-sort-header>Ng\xe0y t\u1ea1o</th>\n        <td class="padding-y" mat-cell *matCellDef="let element"> {{element.date.toDate() | date: \'dd/MM/yyyy HH:mm\'}}\n        </td>\n    </ng-container>\n\n    <ng-container matColumnDef="type_name">\n        <th class="text-center title" mat-header-cell *matHeaderCellDef mat-sort-header>Th\u1ec3 lo\u1ea1i</th>\n        <td class="padding-y" mat-cell *matCellDef="let element"> {{element.type_name}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef="img">\n        <th class="text-center title" mat-header-cell *matHeaderCellDef>H\xecnh \u1ea3nh</th>\n        <td class="padding-x" mat-cell *matCellDef="let element">\n            <img src="{{element.img}}" class="rounded mx-auto d-block" alt="Not yet image" height="100">\n        </td>\n    </ng-container>\n\n    <ng-container matColumnDef="status">\n        <th class="text-center title" mat-header-cell *matHeaderCellDef>\u0110\u0103ng b\xe0i</th>\n        <td class="text-center " mat-cell *matCellDef="let element">\n            <mat-slide-toggle [checked]="element.status" (change)="updatePost($event, element.id)"></mat-slide-toggle>\n        </td>\n    </ng-container>\n\n    <ng-container matColumnDef="edit">\n        <th class="title" mat-header-cell *matHeaderCellDef></th>\n        <td class="edit-post" mat-cell *matCellDef="let element">\n            \x3c!-- <button mat-flat-button [routerLink]="[\'/viethas/news/edit-news\', {data: transformJSON(element)}]">\n                <mat-icon class="text-success" aria-hidden="false" aria-label="Example home icon">edit\n                </mat-icon>\n            </button> --\x3e\n            <button mat-flat-button (click)="gotoDetailPost(element)">\n                <mat-icon class="text-success" aria-hidden="false" aria-label="Example home icon">edit\n                </mat-icon>\n            </button>\n            <button mat-flat-button (click)="deletePost(element.id)">\n                <mat-icon class="text-danger" aria-hidden="false" aria-label="Example home icon">delete\n                </mat-icon>\n            </button>\n        </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n</table>'},LliN:function(e,t,n){"use strict";n.r(t),t.default=".example-spacer {\n  flex: 1 auto;\n}\n\n.small-toolbar {\n  max-height: 25px !important;\n  z-index: 10;\n}\n\ntable {\n  width: 100%;\n  box-shadow: none !important;\n}\n\ntable .title {\n  background-color: #eceeef;\n  padding-left: 8px !important;\n}\n\ntable th.mat-sort-header-sorted {\n  color: black;\n}\n\n.edit-post {\n  width: 155px;\n}\n\n.padding-y {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.padding-x {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}"},h0dE:function(e,t,n){"use strict";n.r(t),n.d(t,"NewsModule",(function(){return f}));var a=n("mrSG"),o=n("ofXK"),r=n("fXoL"),s=n("tyNb"),l=n("adls"),i=n("+0xr"),c=n("Dh3D"),d=function(){function e(t,n,a,o){_classCallCheck(this,e),this.router=t,this.ordinaryComponent=n,this.ordinaryQuery=a,this.route=o,this.displayedColumns=["title","date","type_name","img","status","edit"],this.dataSource=new i.a(this.news?this.news:[])}return _createClass(e,[{key:"ngOnInit",value:function(){this.fetchNews(),this.dataSource.sort=this.sort}},{key:"fetchNews",value:function(){var e=this;this.ordinaryQuery.getTasks("news").then((function(t){return Object(a.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.docs.map((function(e){return Object.assign(Object.assign({},e.data()),{id:e.id,type_name:n.chooseType(e.data().type)})}));case 2:this.news=e.sent,this.dataSource=new i.a(this.news);case 4:case"end":return e.stop()}}),e,this)})))}))}},{key:"chooseType",value:function(e){switch(e){case"1":return"Ph\u1ea7n m\u1ec1m";case"2":return"Gi\u1ea3i ph\xe1p IoT";case"3":return"Gia c\xf4ng"}}},{key:"addPost",value:function(){this.router.navigateByUrl("/viethas/news/add-news")}},{key:"gotoDetailPost",value:function(e){this.router.navigate(["/viethas/news/edit-news"],{state:e})}},{key:"deletePost",value:function(e){var t=this;this.ordinaryQuery.deleteTask("news",e).then((function(n){return Object(a.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,this.news.splice(this.news.findIndex((function(t){return t.id==e})),1);case 4:this.dataSource=new i.a(this.news);case 5:case"end":return t.stop()}}),t,this)})))})).catch((function(e){return console.error(e)}))}},{key:"updatePost",value:function(e,t){this.ordinaryQuery.updateTask("news",t,{status:e.checked}).then((function(e){e&&console.log("Updated")})).catch((function(e){return console.error(e)}))}},{key:"transformJSON",value:function(e){return JSON.stringify(e)}}]),e}();d.ctorParameters=function(){return[{type:s.e},{type:l.OrdinaryComponent},{type:l.OrdinaryQuery},{type:s.a}]},Object(a.__decorate)([Object(r.ViewChild)(c.a,{static:!0})],d.prototype,"sort",void 0);var u=[{path:"",component:d=Object(a.__decorate)([Object(r.Component)({selector:"app-news",template:Object(a.__importDefault)(n("CzDe")).default,styles:[Object(a.__importDefault)(n("LliN")).default]})],d)},{path:"add-news",loadChildren:function(){return Promise.all([n.e(3),n.e(4),n.e(27)]).then(n.bind(null,"WPSi")).then((function(e){return e.AddNewsModule}))}},{path:"edit-news",loadChildren:function(){return Promise.all([n.e(3),n.e(4),n.e(28)]).then(n.bind(null,"4pmC")).then((function(e){return e.EditNewsModule}))}}],m=function e(){_classCallCheck(this,e)};m=Object(a.__decorate)([Object(r.NgModule)({imports:[s.g.forChild(u)],exports:[s.g]})],m);var h=n("hctd"),p=n("3Pt+"),f=function e(){_classCallCheck(this,e)};f=Object(a.__decorate)([Object(r.NgModule)({imports:[o.CommonModule,m,h.a,p.f],declarations:[d],exports:[h.a]})],f)}}]);