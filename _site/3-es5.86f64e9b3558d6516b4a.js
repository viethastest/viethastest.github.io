function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_superPropBase(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3/ER":function(t,e,r){"use strict";(function(t){var n=r("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}}).call(this,r("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"Ju5/":function(t,e,r){"use strict";var n=r("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();e.a=i},L3Qv:function(t,e,r){"use strict";e.a=function(){return!1}},WOAq:function(t,e,r){"use strict";(function(t){var n=r("Ju5/"),o=r("L3Qv"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===i?n.a.Buffer:void 0,u=(c?c.isBuffer:void 0)||o.a;e.a=u}).call(this,r("3UD+")(t))},XqMk:function(t,e,r){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;e.a=n},xutz:function(t,e,r){"use strict";(function(t){var n=r("XqMk"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.a.process,c=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=c}).call(this,r("3UD+")(t))},zioG:function(t,e,r){"use strict";r.d(e,"a",(function(){return Ce}));var n=r("mrSG"),o=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},i=r("Ju5/"),a=function(){return i.a.Date.now()},c=i.a.Symbol,u=Object.prototype,s=u.hasOwnProperty,f=u.toString,l=c?c.toStringTag:void 0,h=Object.prototype.toString,d=c?c.toStringTag:void 0,p=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?function(t){var e=s.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(i){}var o=f.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):function(t){return h.call(t)}(t)},y=function(t){return null!=t&&"object"==typeof t},v=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,g=/^0o[0-7]+$/i,m=parseInt,j=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==p(t)}(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(v,"");var r=_.test(t);return r||g.test(t)?m(t.slice(2),r?2:8):b.test(t)?NaN:+t},w=Math.max,O=Math.min,E=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return o(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),function(t,e,r){var n,i,c,u,s,f,l=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var r=n,o=i;return n=i=void 0,l=e,u=t.apply(o,r)}function v(t){return l=t,s=setTimeout(_,e),h?y(t):u}function b(t){var r=t-f;return void 0===f||r>=e||r<0||d&&t-l>=c}function _(){var t=a();if(b(t))return g(t);s=setTimeout(_,function(t){var r=e-(t-f);return d?O(r,c-(t-l)):r}(t))}function g(t){return s=void 0,p&&n?y(t):(n=i=void 0,u)}function m(){var t=a(),r=b(t);if(n=arguments,i=this,f=t,r){if(void 0===s)return v(f);if(d)return clearTimeout(s),s=setTimeout(_,e),y(f)}return void 0===s&&(s=setTimeout(_,e)),u}return e=j(e)||0,o(r)&&(h=!!r.leading,c=(d="maxWait"in r)?w(j(r.maxWait)||0,e):c,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=f=i=s=void 0},m.flush=function(){return void 0===s?u:g(a())},m}(t,e,{leading:n,maxWait:e,trailing:i})},k=function(t,e){return t===e||t!=t&&e!=e},x=function(t,e){for(var r=t.length;r--;)if(k(t[r][0],e))return r;return-1},A=Array.prototype.splice;function P(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}P.prototype.clear=function(){this.__data__=[],this.size=0},P.prototype.delete=function(t){var e=this.__data__,r=x(e,t);return!(r<0||(r==e.length-1?e.pop():A.call(e,r,1),--this.size,0))},P.prototype.get=function(t){var e=this.__data__,r=x(e,t);return r<0?void 0:e[r][1]},P.prototype.has=function(t){return x(this.__data__,t)>-1},P.prototype.set=function(t,e){var r=this.__data__,n=x(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var D,S=P,I=function(t){if(!o(t))return!1;var e=p(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},C=i.a["__core-js_shared__"],T=(D=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",R=Function.prototype.toString,M=function(t){if(null!=t){try{return R.call(t)}catch(e){}try{return t+""}catch(e){}}return""},N=/^\[object .+?Constructor\]$/,z=Function.prototype,W=Object.prototype,F=z.toString,U=W.hasOwnProperty,L=RegExp("^"+F.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(t){return!(!o(t)||(e=t,T&&T in e))&&(I(t)?L:N).test(M(t));var e},B=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return H(r)?r:void 0},$=B(i.a,"Map"),V=B(Object,"create"),Z=Object.prototype.hasOwnProperty,J=Object.prototype.hasOwnProperty;function q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}q.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},q.prototype.get=function(t){var e=this.__data__;if(V){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Z.call(e,t)?e[t]:void 0},q.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:J.call(e,t)},q.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this};var X=q,G=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}K.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new($||S),string:new X}},K.prototype.delete=function(t){var e=G(this,t).delete(t);return this.size-=e?1:0,e},K.prototype.get=function(t){return G(this,t).get(t)},K.prototype.has=function(t){return G(this,t).has(t)},K.prototype.set=function(t,e){var r=G(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var Q=K;function Y(t){var e=this.__data__=new S(t);this.size=e.size}Y.prototype.clear=function(){this.__data__=new S,this.size=0},Y.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Y.prototype.get=function(t){return this.__data__.get(t)},Y.prototype.has=function(t){return this.__data__.has(t)},Y.prototype.set=function(t,e){var r=this.__data__;if(r instanceof S){var n=r.__data__;if(!$||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Q(n)}return r.set(t,e),this.size=r.size,this};var tt=Y,et=function(){try{var t=B(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),rt=function(t,e,r){"__proto__"==e&&et?et(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},nt=Object.prototype.hasOwnProperty,ot=function(t,e,r){var n=t[e];nt.call(t,e)&&k(n,r)&&(void 0!==r||e in t)||rt(t,e,r)},it=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?rt(r,c,u):ot(r,c,u)}return r},at=function(t){return y(t)&&"[object Arguments]"==p(t)},ct=Object.prototype,ut=ct.hasOwnProperty,st=ct.propertyIsEnumerable,ft=at(function(){return arguments}())?at:function(t){return y(t)&&ut.call(t,"callee")&&!st.call(t,"callee")},lt=Array.isArray,ht=r("WOAq"),dt=/^(?:0|[1-9]\d*)$/,pt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&dt.test(t))&&t>-1&&t%1==0&&t<e},yt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var bt=function(t){return function(e){return t(e)}},_t=r("xutz"),gt=_t.a&&_t.a.isTypedArray,mt=gt?bt(gt):function(t){return y(t)&&yt(t.length)&&!!vt[p(t)]},jt=Object.prototype.hasOwnProperty,wt=function(t,e){var r=lt(t),n=!r&&ft(t),o=!r&&!n&&Object(ht.a)(t),i=!r&&!n&&!o&&mt(t),a=r||n||o||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var s in t)!e&&!jt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pt(s,u))||c.push(s);return c},Ot=Object.prototype,Et=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)},kt=function(t,e){return function(r){return t(e(r))}},xt=kt(Object.keys,Object),At=Object.prototype.hasOwnProperty,Pt=function(t){return null!=t&&yt(t.length)&&!I(t)},Dt=function(t){return Pt(t)?wt(t):function(t){if(!Et(t))return xt(t);var e=[];for(var r in Object(t))At.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)},St=Object.prototype.hasOwnProperty,It=function(t){if(!o(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Et(t),r=[];for(var n in t)("constructor"!=n||!e&&St.call(t,n))&&r.push(n);return r},Ct=function(t){return Pt(t)?wt(t,!0):It(t)},Tt=r("3/ER"),Rt=function(){return[]},Mt=Object.prototype.propertyIsEnumerable,Nt=Object.getOwnPropertySymbols,zt=Nt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}(Nt(t),(function(e){return Mt.call(t,e)})))}:Rt,Wt=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Ft=kt(Object.getPrototypeOf,Object),Ut=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Wt(e,zt(t)),t=Ft(t);return e}:Rt,Lt=function(t,e,r){var n=e(t);return lt(t)?n:Wt(n,r(t))},Ht=function(t){return Lt(t,Dt,zt)},Bt=function(t){return Lt(t,Ct,Ut)},$t=B(i.a,"DataView"),Vt=B(i.a,"Promise"),Zt=B(i.a,"Set"),Jt=B(i.a,"WeakMap"),qt=M($t),Xt=M($),Gt=M(Vt),Kt=M(Zt),Qt=M(Jt),Yt=p;($t&&"[object DataView]"!=Yt(new $t(new ArrayBuffer(1)))||$&&"[object Map]"!=Yt(new $)||Vt&&"[object Promise]"!=Yt(Vt.resolve())||Zt&&"[object Set]"!=Yt(new Zt)||Jt&&"[object WeakMap]"!=Yt(new Jt))&&(Yt=function(t){var e=p(t),r="[object Object]"==e?t.constructor:void 0,n=r?M(r):"";if(n)switch(n){case qt:return"[object DataView]";case Xt:return"[object Map]";case Gt:return"[object Promise]";case Kt:return"[object Set]";case Qt:return"[object WeakMap]"}return e});var te=Yt,ee=Object.prototype.hasOwnProperty,re=i.a.Uint8Array,ne=function(t){var e=new t.constructor(t.byteLength);return new re(e).set(new re(t)),e},oe=/\w*$/,ie=c?c.prototype:void 0,ae=ie?ie.valueOf:void 0,ce=function(t,e,r){var n,o,i,a=t.constructor;switch(e){case"[object ArrayBuffer]":return ne(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var r=e?ne(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ne(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,oe.exec(o))).lastIndex=o.lastIndex,i;case"[object Set]":return new a;case"[object Symbol]":return n=t,ae?Object(ae.call(n)):{}}},ue=Object.create,se=function(){function t(){}return function(e){if(!o(e))return{};if(ue)return ue(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),fe=_t.a&&_t.a.isMap,le=fe?bt(fe):function(t){return y(t)&&"[object Map]"==te(t)},he=_t.a&&_t.a.isSet,de=he?bt(he):function(t){return y(t)&&"[object Set]"==te(t)},pe={};pe["[object Arguments]"]=pe["[object Array]"]=pe["[object ArrayBuffer]"]=pe["[object DataView]"]=pe["[object Boolean]"]=pe["[object Date]"]=pe["[object Float32Array]"]=pe["[object Float64Array]"]=pe["[object Int8Array]"]=pe["[object Int16Array]"]=pe["[object Int32Array]"]=pe["[object Map]"]=pe["[object Number]"]=pe["[object Object]"]=pe["[object RegExp]"]=pe["[object Set]"]=pe["[object String]"]=pe["[object Symbol]"]=pe["[object Uint8Array]"]=pe["[object Uint8ClampedArray]"]=pe["[object Uint16Array]"]=pe["[object Uint32Array]"]=!0,pe["[object Error]"]=pe["[object Function]"]=pe["[object WeakMap]"]=!1;var ye=function t(e,r,n,i,a,c){var u,s=1&r,f=2&r,l=4&r;if(n&&(u=a?n(e,i,a,c):n(e)),void 0!==u)return u;if(!o(e))return e;var h=lt(e);if(h){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ee.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!s)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,u)}else{var d=te(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(ht.a)(e))return Object(Tt.a)(e,s);if("[object Object]"==d||"[object Arguments]"==d||p&&!a){if(u=f||p?{}:function(t){return"function"!=typeof t.constructor||Et(t)?{}:se(Ft(t))}(e),!s)return f?function(t,e){return it(t,Ut(t),e)}(e,function(t,e){return t&&it(e,Ct(e),t)}(u,e)):function(t,e){return it(t,zt(t),e)}(e,function(t,e){return t&&it(e,Dt(e),t)}(u,e))}else{if(!pe[d])return a?e:{};u=ce(e,d,s)}}c||(c=new tt);var y=c.get(e);if(y)return y;c.set(e,u),de(e)?e.forEach((function(o){u.add(t(o,r,n,o,e,c))})):le(e)&&e.forEach((function(o,i){u.set(i,t(o,r,n,i,e,c))}));var v=l?f?Bt:Ht:f?keysIn:Dt,b=h?void 0:v(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(b||e,(function(o,i){b&&(o=e[i=o]),ot(u,i,t(o,r,n,i,e,c))})),u},ve=Function.prototype,be=Object.prototype,_e=ve.toString,ge=be.hasOwnProperty,me=_e.call(Object),je=function(t){return y(t)&&1===t.nodeType&&!function(t){if(!y(t)||"[object Object]"!=p(t))return!1;var e=Ft(t);if(null===e)return!0;var r=ge.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&_e.call(r)==me}(t)};function we(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=[t],n=new Set;r.length>0;){var o=r.shift();if(!(n.has(o)||Oe(o)||e.has(o)))if(n.add(o),o[Symbol.iterator])try{var i,a=_createForOfIteratorHelper(o);try{for(a.s();!(i=a.n()).done;){var c=i.value;r.push(c)}}catch(s){a.e(s)}finally{a.f()}}catch(s){}else for(var u in o)"defaultValue"!==u&&r.push(o[u])}return n}function Oe(t){var e=Object.prototype.toString.call(t),r=typeof t;return"number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}var Ee,ke=function(t){_inherits(r,t);var e=_createSuper(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,r),(n=e.call(this,o))._editor=null,n._throttledSave=E(n._save.bind(_assertThisInitialized(n)),"number"==typeof o.saveInterval?o.saveInterval:5e3),n._creator=function(e,r){return t.create(e,r)},n._destructor=function(t){return t.destroy()},n}return _createClass(r,[{key:"_restart",value:function(){var t=this;return Promise.resolve().then((function(){return t.state="initializing",t._fire("stateChange"),t._destroy()})).catch((function(t){console.error("An error happened during the editor destroying.",t)})).then((function(){if("string"==typeof t._elementOrData)return t.create(t._data,t._config,t._config.context);var e=Object.assign({},t._config,{initialData:t._data});return t.create(t._elementOrData,e,e.context)})).then((function(){t._fire("restart")}))}},{key:"create",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,o=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then((function(){return _get(_getPrototypeOf(r.prototype),"_startErrorHandling",t).call(t),t._elementOrData=e,t._config=t._cloneEditorConfiguration(n)||{},t._config.context=o,t._creator(e,t._config)})).then((function(e){t._editor=e,e.model.document.on("change:data",t._throttledSave),t._lastDocumentVersion=e.model.document.version,t._data=t._getData(),t.state="ready",t._fire("stateChange")}))}},{key:"destroy",value:function(){var t=this;return Promise.resolve().then((function(){return t.state="destroyed",t._fire("stateChange"),_get(_getPrototypeOf(r.prototype),"destroy",t).call(t),t._destroy()}))}},{key:"_destroy",value:function(){var t=this;return Promise.resolve().then((function(){t._stopErrorHandling(),t._throttledSave.flush();var e=t._editor;return t._editor=null,t._destructor(e)}))}},{key:"_save",value:function(){var t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(t){this._excludedProps=t}},{key:"_getData",value:function(){var t,e={},r=_createForOfIteratorHelper(this._editor.model.document.getRootNames());try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n]=this._editor.data.get({rootName:n})}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"_isErrorComingFromThisItem",value:function(t){return function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(t===e&&"object"==typeof(r=t)&&null!==r)return!0;var o,i=we(t,n),a=we(e,n),c=_createForOfIteratorHelper(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(a.has(u))return!0}}catch(s){c.e(s)}finally{c.f()}return!1}(this._editor,t.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(t){return function(t,e){return ye(t,5,e="function"==typeof e?e:void 0)}(t,(function(t,e){return je(t)||"context"===e?t:void 0}))}},{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}}]),r}(function(){function t(e){var r=this;if(_classCallCheck(this,t),this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(t){var e=t.error||t.reason;e instanceof Error&&r._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return _createClass(t,[{key:"setCreator",value:function(t){this._creator=t}},{key:"setDestructor",value:function(t){this._destructor=t}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"off",value:function(t,e){this._listeners[t]=this._listeners[t].filter((function(t){return t!==e}))}},{key:"_fire",value:function(t){for(var e=this._listeners[t]||[],r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var c=i.value;c.apply(this,[null].concat(n))}}catch(u){a.e(u)}finally{a.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});var r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),t}()),xe=r("fXoL"),Ae=r("ofXK"),Pe=r("3Pt+");function De(t,e){}!function(t){t.EditorConstructor=function(){},t.Config=function(){},t.EventInfo=function(){},t.BaseEditor=function(){},t.DataApi=function(){},t.Editor=function(){},t.ContextWatchdog=function(){},t.EditorWatchdog=function(){},t.Watchdog=function(){}}(Ee||(Ee={}));var Se=new Array(256).fill(0).map((function(t,e){return("0"+e.toString(16)).slice(-2)})),Ie=function(){function t(e,r){var n,o,i,a;_classCallCheck(this,t),this.config={},this.data="",this.tagName="div",this.ready=new xe.EventEmitter,this.change=new xe.EventEmitter,this.blur=new xe.EventEmitter,this.focus=new xe.EventEmitter,this.error=new xe.EventEmitter,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=(n=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,"e"+Se[n>>0&255]+Se[n>>8&255]+Se[n>>16&255]+Se[n>>24&255]+Se[o>>0&255]+Se[o>>8&255]+Se[o>>16&255]+Se[o>>24&255]+Se[i>>0&255]+Se[i>>8&255]+Se[i>>16&255]+Se[i>>24&255]+Se[a>>0&255]+Se[a>>8&255]+Se[a>>16&255]+Se[a>>24&255]),this.ngZone=r,this.elementRef=e}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.attachToWatchdog()}},{key:"ngOnDestroy",value:function(){return Object(n.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.watchdog){t.next=5;break}return t.next=3,this.watchdog.remove(this.id);case 3:t.next=10;break;case 5:if(t.t0=this.editorWatchdog&&this.editorWatchdog.editor,!t.t0){t.next=10;break}return t.next=9,this.editorWatchdog.destroy();case 9:this.editorWatchdog=void 0;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"writeValue",value:function(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.editorElement&&(this.editorElement.innerHTML=this.data))}},{key:"registerOnChange",value:function(t){this.cvaOnChange=t}},{key:"registerOnTouched",value:function(t){this.cvaOnTouched=t}},{key:"setDisabledState",value:function(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}},{key:"attachToWatchdog",value:function(){var t=this,e=function(e,r){return Object(n.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ngZone.runOutsideAngular((function(){return Object(n.__awaiter)(o,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.elementRef.nativeElement.appendChild(e),t.next=3,this.editor.create(e,r);case 3:return n=t.sent,t.abrupt("return",(this.initiallyDisabled&&(n.isReadOnly=this.initiallyDisabled),this.ngZone.run((function(){o.ready.emit(n)})),this.setUpEditorEvents(n),n));case 5:case"end":return t.stop()}}),t,this)})))})));case 1:case"end":return t.stop()}}),t,this)})))},r=function(e){return Object(n.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy();case 2:this.elementRef.nativeElement.removeChild(this.editorElement);case 3:case"end":return t.stop()}}),t,this)})))},o=function(){t.ngZone.run((function(){t.error.emit()}))},i=document.createElement(this.tagName),a=this.getConfig();if(this.editorElement=i,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:e,destructor:r,sourceElementOrData:i,config:a}),this.watchdog.on("itemError",(function(e,r){r.itemId===t.id&&o()}));else{var c=new ke(this.editor);c.setCreator(e),c.setDestructor(r),c.on("error",o),this.editorWatchdog=c,this.editorWatchdog.create(i,a)}}},{key:"getConfig",value:function(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}},{key:"setUpEditorEvents",value:function(t){var e=this,r=t.model.document,n=t.editing.view.document;r.on("change:data",(function(r){e.ngZone.run((function(){if(e.cvaOnChange&&!e.isEditorSettingData){var n=t.getData();e.cvaOnChange(n)}e.change.emit({event:r,editor:t})}))})),n.on("focus",(function(r){e.ngZone.run((function(){e.focus.emit({event:r,editor:t})}))})),n.on("blur",(function(r){e.ngZone.run((function(){e.cvaOnTouched&&e.cvaOnTouched(),e.blur.emit({event:r,editor:t})}))}))}},{key:"disabled",set:function(t){this.setDisabledState(t)},get:function(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}},{key:"editorInstance",get:function(){var t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}}]),t}();Ie.\u0275fac=function(t){return new(t||Ie)(xe["\u0275\u0275directiveInject"](xe.ElementRef),xe["\u0275\u0275directiveInject"](xe.NgZone))},Ie.\u0275cmp=xe["\u0275\u0275defineComponent"]({type:Ie,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[xe["\u0275\u0275ProvidersFeature"]([{provide:Pe.h,useExisting:Object(xe.forwardRef)((function(){return Ie})),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&xe["\u0275\u0275template"](0,De,0,0,"ng-template")},encapsulation:2}),Ie.ctorParameters=function(){return[{type:xe.ElementRef},{type:xe.NgZone}]},Ie.propDecorators={editor:[{type:xe.Input}],config:[{type:xe.Input}],data:[{type:xe.Input}],tagName:[{type:xe.Input}],watchdog:[{type:xe.Input}],disabled:[{type:xe.Input}],ready:[{type:xe.Output}],change:[{type:xe.Output}],blur:[{type:xe.Output}],focus:[{type:xe.Output}],error:[{type:xe.Output}]};var Ce=function t(){_classCallCheck(this,t)};Ce.\u0275mod=xe["\u0275\u0275defineNgModule"]({type:Ce}),Ce.\u0275inj=xe["\u0275\u0275defineInjector"]({factory:function(t){return new(t||Ce)},imports:[[Pe.f,Ae.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&xe["\u0275\u0275setNgModuleScope"](Ce,{declarations:function(){return[Ie]},imports:function(){return[Pe.f,Ae.CommonModule]},exports:function(){return[Ie]}})}}]);