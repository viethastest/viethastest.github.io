function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{A8HU:function(t,e,r){"use strict";r.r(e),r.d(e,"ListPriceModule",(function(){return v}));var n=r("mrSG"),i=r("fXoL"),o=r("ofXK"),a=r("adls"),s=r("tyNb"),l=function(){function t(e,r,n){var i=this;_classCallCheck(this,t),this.queryVhweb=e,this.router=r,this.ordinaryAlgorithm=n,this.data=[],this.pageIndex=0,this.pageSize=5,this.lowValue=0,this.highValue=10,this.pageSizeOption=[5,10,25,50,100],this.getData().then((function(t){console.log(t);var e=function(e){i.queryVhweb.getProduct("softwares",t[e].id_software).then((function(r){t[e].name=r.data().name}))};for(var r in t)e(r);console.log(i.data)}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getPaginatorData",value:function(t){return this.lowValue=t.pageIndex*t.pageSize,this.highValue=this.lowValue+t.pageSize,t}},{key:"add",value:function(){this.router.navigate(["/viethas/list-price/add"])}},{key:"edit",value:function(t){this.router.navigate(["/viethas/list-price/edit"],{state:t})}},{key:"delete",value:function(t){var e=this;this.queryVhweb.deleteProduct("prices",t.id).then((function(t){console.log("result",t),alert("success"),e.data.splice(e.data.findIndex((function(t){return t.id==t.id})),1)}))}},{key:"getData",value:function(){var t=this;return new Promise((function(e){t.queryVhweb.getProducts("prices").then((function(r){t.data=r.docs.map((function(t){return Object.assign({id:t.id},t.data())})),t.data.sort((function(t,e){return t.id_software.localeCompare(e.id_software)})),e(t.data),console.log(t.data)}))}))}}]),t}();l.ctorParameters=function(){return[{type:a.QueryVhweb},{type:s.e},{type:a.OrdinaryAlgorithm}]},l=Object(n.__decorate)([Object(i.Component)({selector:"app-list-price",template:Object(n.__importDefault)(r("SW2l")).default,styles:[Object(n.__importDefault)(r("Fdc1")).default]})],l);var c=r("3Pt+"),u=r("KZYO"),m=function(){function t(e,r,n){_classCallCheck(this,t),this.queryVhweb=e,this.location=r,this.ordinaryAlgorithm=n,this.EDITOR=u,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}},this.list_software=[],this.list_time=["30 ng\xe0y","90 ng\xe0y","180 ng\xe0y","356 ng\xe0y"]}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm(),this.getListSoftware(),this.root_price=this.ordinaryAlgorithm.vhnumeral(".root_price"),this.current_price=this.ordinaryAlgorithm.vhnumeral(".current_price")}},{key:"onReady",value:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}},{key:"initForm",value:function(){this.form=new c.d({id_software:new c.c("",[c.l.required]),time:new c.c("",[c.l.required]),root_price:new c.c("",[c.l.required]),current_price:new c.c("",[c.l.required]),content:new c.c("",[c.l.required])})}},{key:"getListSoftware",value:function(){var t=this;this.queryVhweb.getProducts("softwares").then((function(e){t.list_software=e.docs.map((function(t){return Object.assign({id:t.id},t.data())})),console.log(t.list_software)}))}},{key:"save",value:function(){var t=this;console.log(this.form.value),this.form.controls.root_price.setValue(parseInt(this.root_price.getRawValue())),this.form.controls.current_price.setValue(parseInt(this.current_price.getRawValue())),this.queryVhweb.createProduct("prices",this.form.value).then((function(e){e.created&&(console.log("result.id",e.id),t.form.reset(),alert("Success"))}))}}]),t}();m.ctorParameters=function(){return[{type:a.QueryVhweb},{type:o.Location},{type:a.OrdinaryAlgorithm}]},m=Object(n.__decorate)([Object(i.Component)({selector:"app-add",template:Object(n.__importDefault)(r("soBI")).default,styles:[Object(n.__importDefault)(r("akgR")).default]})],m);var d=function(){function t(e,r,n,i){_classCallCheck(this,t),this.queryVhweb=e,this.location=r,this.router=n,this.ordinaryAlgorithm=i,this.EDITOR=u,this.config={ckfinder:{options:{language:"en",resourceType:"Images"}}},this.list_software=[],this.list_time=["30 ng\xe0y","90 ng\xe0y","180 ng\xe0y","356 ng\xe0y"],this.initForm(),this.getListSoftware()}return _createClass(t,[{key:"ngOnInit",value:function(){this.root_price=this.ordinaryAlgorithm.vhnumeral(".root_price"),this.current_price=this.ordinaryAlgorithm.vhnumeral(".current_price")}},{key:"onReady",value:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}},{key:"initForm",value:function(){this.router.getCurrentNavigation().extras.state?(this.root=this.router.getCurrentNavigation().extras.state,this.form=new c.d({id_software:new c.c(this.root.id_software,[c.l.required]),time:new c.c(this.root.time,[c.l.required]),root_price:new c.c(this.root.root_price,[c.l.required]),current_price:new c.c(this.root.current_price,[c.l.required]),content:new c.c(this.root.content,[c.l.required])})):this.location.back()}},{key:"getListSoftware",value:function(){var t=this;this.queryVhweb.getProducts("softwares").then((function(e){t.list_software=e.docs.map((function(t){return Object.assign({id:t.id},t.data())})),console.log(t.list_software)}))}},{key:"save",value:function(){var t=this;console.log(this.form.value),this.form.controls.root_price.setValue(parseInt(this.root_price.getRawValue())),this.form.controls.current_price.setValue(parseInt(this.current_price.getRawValue())),this.queryVhweb.updateProduct("prices",this.root.id,this.form.value).then((function(e){console.log("result",e),t.location.back()}))}}]),t}();d.ctorParameters=function(){return[{type:a.QueryVhweb},{type:o.Location},{type:s.e},{type:a.OrdinaryAlgorithm}]};var f=[{path:"",component:l},{path:"add",component:m},{path:"edit",component:d=Object(n.__decorate)([Object(i.Component)({selector:"app-edit",template:Object(n.__importDefault)(r("Jv/t")).default,styles:[Object(n.__importDefault)(r("nZa4")).default]})],d)}],p=function t(){_classCallCheck(this,t)};p=Object(n.__decorate)([Object(i.NgModule)({imports:[s.g.forChild(f)],exports:[s.g]})],p);var h=r("hctd"),g=r("zioG"),v=function t(){_classCallCheck(this,t)};v=Object(n.__decorate)([Object(i.NgModule)({declarations:[l,m,d],imports:[o.CommonModule,p,h.a,c.f,g.a,c.k]})],v)},Fdc1:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}"},"Jv/t":function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1 | C\u1eadp nh\u1eadt</span>\r\n        <span class="example-spacer"></span>\r\n        <button [disabled]="form.invalid" class="bg-success text-white px-5 mx-2" mat-flat-button (click)="save()">\r\n            L\u01b0u\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n<div class="row my-4">\r\n    <div class="col">\r\n        <form [formGroup]="form">\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <mat-form-field class="w-100" appearance="fill">\r\n                        <mat-label>T\xean ph\u1ea7n m\u1ec1m</mat-label>\r\n                        <mat-select formControlName="id_software">\r\n                            <mat-option *ngFor="let item of list_software" [value]="item.id">\r\n                                {{item.name}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class="col my-3">\r\n                    <mat-form-field  class="w-100" appearance="fill">\r\n                        <mat-label>Th\u1eddi gian</mat-label>\r\n                        <mat-select formControlName="time">\r\n                            <mat-option *ngFor="let item of list_time" [value]="item">\r\n                                {{item}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control root_price" formControlName="root_price" placeholder="Gi\xe1 g\u1ed1c">\r\n                </div>\r\n    \r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control current_price" formControlName="current_price" placeholder="Gi\xe1 khuy\u1ebfn m\xe3i">\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-lg my-3">\r\n                <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\r\n                </ckeditor>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},SW2l:function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1</span>\r\n        <span class="example-spacer"></span>\r\n        <button class="bg-success text-white px-5 mx-2" mat-flat-button (click)="add()">\r\n            Th\xeam\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n\r\n<div class="row my-4 d-flex align-items-center" style="background: #f5f5f5;height: 50px;">\r\n    <div class="col-3">\r\n        <b>T\xean ph\u1ea7n m\u1ec1m</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Th\u1eddi gian</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Gi\xe1 g\u1ed1c</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Gi\xe1 khuy\u1ebfn m\xe3i</b>\r\n    </div>\r\n    <div class="col">\r\n        <b>Edit</b>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="row my-2 border-bottom" *ngFor="let item of data  | slice: lowValue : highValue">\r\n    <div class="col-3">\r\n        {{item.name}}\r\n    </div>\r\n    <div class="col">\r\n        {{item.time}}\r\n    </div>\r\n    <div class="col">\r\n        {{ordinaryAlgorithm.vhcurrencyunit(item.root_price)}}\r\n    </div>\r\n    <div class="col">\r\n        {{ordinaryAlgorithm.vhcurrencyunit(item.current_price)}}\r\n    </div>\r\n    <div class="col">\r\n        <button mat-flat-button (click)="edit(item)">\r\n            <mat-icon class="text-success" aria-hidden="false" aria-label="Example home icon">edit\r\n            </mat-icon>\r\n        </button>\r\n        <button mat-flat-button (click)="delete(item)">\r\n            <mat-icon class="text-danger" aria-hidden="false" aria-label="Example home icon">delete\r\n            </mat-icon>\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n\r\n<mat-paginator class="d-flex justify-content-center" [length]="data.length" [pageSizeOptions]="pageSizeOption" [pageSize]="pageSize"\r\n    showFirstLastButtons="false" (page)="pageEvent = getPaginatorData($event)">\r\n</mat-paginator>'},akgR:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}\n\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}"},nZa4:function(t,e,r){"use strict";r.r(e),e.default=".example-spacer {\n  flex: 1 auto;\n}\n\n:host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n  border: 1px gainsboro solid;\n}"},soBI:function(t,e,r){"use strict";r.r(e),e.default='<mat-toolbar class="bg-white border-bottom small-toolbar">\r\n    <mat-toolbar-row>\r\n        <span class="h3">B\u1ea3ng gi\xe1 | Th\xeam m\u1edbi</span>\r\n        <span class="example-spacer"></span>\r\n        <button class="bg-success text-white px-5 mx-2" [disabled]="form.invalid" mat-flat-button (click)="save()">\r\n            L\u01b0u\r\n        </button>\r\n    </mat-toolbar-row>\r\n</mat-toolbar>\r\n<div class="row my-4">\r\n    <div class="col">\r\n        <form [formGroup]="form">\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <mat-form-field class="w-100" appearance="fill">\r\n                        <mat-label>T\xean ph\u1ea7n m\u1ec1m</mat-label>\r\n                        <mat-select formControlName="id_software">\r\n                            <mat-option *ngFor="let item of list_software" [value]="item.id">\r\n                                {{item.name}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class="col my-3">\r\n                    <mat-form-field  class="w-100" appearance="fill">\r\n                        <mat-label>Th\u1eddi gian</mat-label>\r\n                        <mat-select formControlName="time">\r\n                            <mat-option *ngFor="let item of list_time" [value]="item">\r\n                                {{item}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div class="row m-0">\r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control root_price" formControlName="root_price" placeholder="Gi\xe1 g\u1ed1c">\r\n                </div>\r\n    \r\n                <div class="col my-3">\r\n                    <input width="80%" type="tel" class="form-control current_price" formControlName="current_price" placeholder="Gi\xe1 khuy\u1ebfn m\xe3i">\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-lg my-3">\r\n                <ckeditor [editor]=" EDITOR" formControlName="content" (ready)="onReady($event)" [config]="config">\r\n                </ckeditor>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'}}]);